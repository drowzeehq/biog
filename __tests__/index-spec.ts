import biog from '../src';

test('Should have biog available', () => {
  expect(biog).toBeTruthy();
});

const epoch = {
  data: [
    [
      -911.1328125,
      -201.171875,
      -916.50390625,
      -968.26171875,
      831.54296875,
      -769.53125,
      -273.92578125,
      -906.73828125,
      990.72265625,
      995.1171875,
      -526.85546875,
      -309.08203125,
    ],
    [
      -802.734375,
      -1000,
      94.7265625,
      -791.015625,
      622.55859375,
      -717.28515625,
      -1000,
      -141.11328125,
      -882.8125,
      836.42578125,
      -498.046875,
      -1000,
    ],
    [
      251.953125,
      -1000,
      -514.6484375,
      877.9296875,
      -837.890625,
      229.00390625,
      -1000,
      -685.546875,
      696.2890625,
      -794.43359375,
      294.921875,
      -1000,
    ],
    [
      106.93359375,
      -826.171875,
      771.484375,
      -538.0859375,
      -1000,
      -114.74609375,
      -909.66796875,
      939.453125,
      -336.9140625,
      -1000,
      -148.4375,
      -958.49609375,
    ],
  ],
  info: {
    markers: [],
    startTime: 1591795635707.375,
    samplingRate: 256,
    channelNames: ['asdf', 'asdf', 'asdf', 'asdf'],
  },
};

test('Should load epoch data', () => {
  const data = biog.epochToSamples(epoch);
  console.log('data: ', data);
  expect(data).toEqual([
    {
      timestamp: 1591795635707.375,
      data: [-911.1328125, -802.734375, 251.953125, 106.93359375],
    },
    {
      timestamp: 1591795635711.2812,
      data: [-201.171875, -1000, -1000, -826.171875],
    },
    {
      timestamp: 1591795635715.1875,
      data: [-916.50390625, 94.7265625, -514.6484375, 771.484375],
    },
    {
      timestamp: 1591795635719.0938,
      data: [-968.26171875, -791.015625, 877.9296875, -538.0859375],
    },
    {
      timestamp: 1591795635723,
      data: [831.54296875, 622.55859375, -837.890625, -1000],
    },
    {
      timestamp: 1591795635726.9062,
      data: [-769.53125, -717.28515625, 229.00390625, -114.74609375],
    },
    {
      timestamp: 1591795635730.8125,
      data: [-273.92578125, -1000, -1000, -909.66796875],
    },
    {
      timestamp: 1591795635734.7188,
      data: [-906.73828125, -141.11328125, -685.546875, 939.453125],
    },
    {
      timestamp: 1591795635738.625,
      data: [990.72265625, -882.8125, 696.2890625, -336.9140625],
    },
    {
      timestamp: 1591795635742.5312,
      data: [995.1171875, 836.42578125, -794.43359375, -1000],
    },
    {
      timestamp: 1591795635746.4375,
      data: [-526.85546875, -498.046875, 294.921875, -148.4375],
    },
    {
      timestamp: 1591795635750.3438,
      data: [-309.08203125, -1000, -1000, -958.49609375],
    },
  ]);
});
